<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="Member">

    <select id="allMemberRead" resultType="Member"> 
        select * from member
    </select>
    
    <select id="memberRead" parameterType="int" resultType="Member">
    	select * from member where mem_no = #{mem_no}
    </select>
    
    <!-- 회원가입 -->
    <insert id="insertMember" parameterType="Member">
        insert into member(mem_id, mem_pw, mem_name, mem_phone)
        values(#{mem_id}, #{mem_pw}, #{mem_name}, #{mem_phone})
    </insert>
    
    <select id="idCheck" parameterType="Member" resultType="int">
    	select count(1) mem_id from member where mem_id = #{mem_id}
    </select>
    
    <!-- ________________________________________________________ -->
    
    <!-- 로그인 -->
    <select id="login" parameterType="Member" resultType="String">
    	select mem_name from member where mem_id = #{mem_id} and mem_pw = #{mem_pw}
    </select>
    
    <!-- 아이디 찾기 -->
    <select id="findMemberId" parameterType="Member" resultType="String">
    	select mem_id from member where mem_phone = #{mem_phone} and mem_name = #{mem_name} 
    </select>
    
    <!-- 비밀번호 찾기 -->
    <select id="findMemberPw" parameterType="Member" resultType="String">
    	select mem_pw from member where mem_name = #{mem_name} and mem_id = #{mem_id} and mem_phone = #{mem_phone}
    </select>
    
    <!-- ________________________________________________________ -->
    
    <!-- 마이페이지 -->    
    <update id="updateMember" parameterType="Member">
    	update member set mem_pw = #{mem_pw}, mem_phone = #{mem_phone} where mem_id = #{mem_id}
    </update>
    
    <!-- ________________________________________________________ -->
    
    <!-- 탈퇴 -->
    <delete id="deleteMember">
    	delete from member where mem_id = #{mem_id}
    </delete> 
    
     <!-- ________________________________________________________ -->
     
     <!-- 마이페이지 예약확인 
     <select id="myReserInfo" parameterType="Reservation" resultType="Resevation">
     	SELECT * FROM reservation reser
		JOIN branch bran ON reser.RE_BRANCH=bran.BRANCH_NO
		JOIN stadium sta ON reser.RE_STADIUM=sta.STADIUM_NO
		JOIN time t ON reser.RE_TIME=t.TIME_NO
		WHERE RE_NAME = #{RE_NAME} AND RE_PWD = #{RE_PWD}
     </select>-->
          
</mapper>

